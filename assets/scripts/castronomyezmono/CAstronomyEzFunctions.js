#define DEFAULT_AUTOSTRETCH_SCLIP  -2.80
#define DEFAULT_AUTOSTRETCH_TBGND   0.25
#define DEFAULT_AUTOSTRETCH_CLINK   false

var _0x216bcf=_0x153f;(function(_0x5769f5,_0x123a96){var _0x4d0bc9=_0x153f,_0x3a1b08=_0x5769f5();while(!![]){try{var _0x2a85aa=parseInt(_0x4d0bc9(0x26f))/0x1*(-parseInt(_0x4d0bc9(0x1d3))/0x2)+-parseInt(_0x4d0bc9(0x218))/0x3*(-parseInt(_0x4d0bc9(0x28c))/0x4)+-parseInt(_0x4d0bc9(0x20b))/0x5+parseInt(_0x4d0bc9(0x24e))/0x6+-parseInt(_0x4d0bc9(0x261))/0x7*(parseInt(_0x4d0bc9(0x275))/0x8)+-parseInt(_0x4d0bc9(0x237))/0x9*(parseInt(_0x4d0bc9(0x270))/0xa)+parseInt(_0x4d0bc9(0x221))/0xb;if(_0x2a85aa===_0x123a96)break;else _0x3a1b08['push'](_0x3a1b08['shift']());}catch(_0x2431f3){_0x3a1b08['push'](_0x3a1b08['shift']());}}}(_0x173c,0x75b70),console['writeln'](_0x216bcf(0x1dc)),console[_0x216bcf(0x247)](_0x216bcf(0x21d)));var identifierName='h',targetWindow=null,cleanup=!![],useScnr=![],usePixelMath=!![],palette='sho',useSHO=!![],useHUBBLE=![],useHOO=![],removeMagentaStars=![],useBlurX=![],useNoiseX=![],useStarX=![],useAbe=!![],useCrop=!![],createSuperLum=![],useIntegerResample=![],noS=![];function integerResample(_0x2a3174){var _0x36c0c1=_0x216bcf,_0x3b259f=new IntegerResample();_0x3b259f[_0x36c0c1(0x27b)]=-0x2,_0x3b259f['downsamplingMode']=IntegerResample['prototype'][_0x36c0c1(0x282)],_0x3b259f['xResolution']=0x48,_0x3b259f[_0x36c0c1(0x1ba)]=0x48,_0x3b259f[_0x36c0c1(0x1b9)]=![],_0x3b259f[_0x36c0c1(0x257)]=![],_0x3b259f[_0x36c0c1(0x256)]=![],_0x3b259f[_0x36c0c1(0x1b1)]=![],_0x3b259f['executeOn'](_0x2a3174);}function blurX(_0xece504){var _0x4abde4=_0x216bcf;console[_0x4abde4(0x247)](_0x4abde4(0x21e)+_0xece504['id']);var _0x42e3e7=new BlurXTerminator();_0x42e3e7[_0x4abde4(0x283)]='C:\x5cProgram\x20Files\x5cPixInsight\x5clibrary\x5cBlurXTerminator.2.pb',_0x42e3e7[_0x4abde4(0x24b)]=![],_0x42e3e7['correct_first']=![],_0x42e3e7['nonstellar_then_stellar']=![],_0x42e3e7[_0x4abde4(0x1c8)]=![],_0x42e3e7['sharpen_stars']=0.25,_0x42e3e7[_0x4abde4(0x1c4)]=0x0,_0x42e3e7[_0x4abde4(0x1c3)]=0x0,_0x42e3e7[_0x4abde4(0x1d5)]=!![],_0x42e3e7[_0x4abde4(0x224)]=0.9,_0x42e3e7['executeOn'](_0xece504);}function noiseX(_0x1803ee){var _0x3d4487=_0x216bcf;console[_0x3d4487(0x247)](_0x3d4487(0x288)+_0x1803ee['id']);var _0x215386=new NoiseXTerminator();_0x215386[_0x3d4487(0x220)]=0.9,_0x215386[_0x3d4487(0x268)]=0.15,_0x215386['executeOn'](_0x1803ee);}function starX(_0x51f414){var _0x287d0a=_0x216bcf;console['writeln'](_0x287d0a(0x1df)+_0x51f414['id']);var _0x2aa7e2=new StarXTerminator();_0x2aa7e2[_0x287d0a(0x1e9)]=!![],_0x2aa7e2[_0x287d0a(0x1ce)]=![],_0x2aa7e2[_0x287d0a(0x213)]=0.2,_0x2aa7e2[_0x287d0a(0x239)](_0x51f414);}function stfReset(_0x1607c0){var _0x473c22=_0x216bcf;console[_0x473c22(0x247)](_0x473c22(0x1d2)+_0x1607c0['id']);var _0x3ac188=new ScreenTransferFunction();_0x3ac188[_0x473c22(0x1b3)]=[[0x0,0x1,0.5,0x0,0x1],[0x0,0x1,0.5,0x0,0x1],[0x0,0x1,0.5,0x0,0x1],[0x0,0x1,0.5,0x0,0x1]],_0x3ac188['interaction']=ScreenTransferFunction[_0x473c22(0x228)][_0x473c22(0x23f)],_0x3ac188[_0x473c22(0x239)](_0x1607c0);}function channelExtract(_0x3e247f){var _0x461a9c=_0x216bcf;console[_0x461a9c(0x247)](_0x461a9c(0x1cc)+_0x3e247f['id']);var _0xc7a00c=new ChannelExtraction();_0xc7a00c['colorSpace']=ChannelExtraction[_0x461a9c(0x228)][_0x461a9c(0x273)],_0xc7a00c[_0x461a9c(0x21f)]=[[!![],''],[![],''],[![],'']],_0xc7a00c['sampleFormat']=ChannelExtraction['prototype'][_0x461a9c(0x28e)],_0xc7a00c['executeOn'](_0x3e247f);}function scnr(_0x31bcc9){var _0x35ab38=_0x216bcf;console[_0x35ab38(0x247)](_0x35ab38(0x258)+_0x31bcc9['id']);var _0x9cdcf4=new SCNR();_0x9cdcf4[_0x35ab38(0x1bb)]=0x1,_0x9cdcf4['protectionMethod']=SCNR['prototype'][_0x35ab38(0x20c)],_0x9cdcf4[_0x35ab38(0x26e)]=SCNR['prototype'][_0x35ab38(0x1cf)],_0x9cdcf4[_0x35ab38(0x287)]=!![],_0x9cdcf4['executeOn'](_0x31bcc9);}function alignment(){var _0x250142=_0x216bcf;console['writeln'](_0x250142(0x1db));var _0x14c3f2=new StarAlignment();_0x14c3f2[_0x250142(0x21c)]=0x5,_0x14c3f2[_0x250142(0x1af)]=0x0,_0x14c3f2[_0x250142(0x22f)]=0x1,_0x14c3f2[_0x250142(0x207)]=0x0,_0x14c3f2['minStructureSize']=0x0,_0x14c3f2['sensitivity']=0.5,_0x14c3f2[_0x250142(0x290)]=0.5,_0x14c3f2[_0x250142(0x1e2)]=0x3,_0x14c3f2[_0x250142(0x23a)]=0.6,_0x14c3f2[_0x250142(0x20f)]=![],_0x14c3f2[_0x250142(0x1c9)]=0.75,_0x14c3f2['upperLimit']=0x1,_0x14c3f2['invert']=![],_0x14c3f2[_0x250142(0x1d7)]='',_0x14c3f2['undistortedReference']=![],_0x14c3f2[_0x250142(0x202)]=![],_0x14c3f2[_0x250142(0x25f)]=0x14,_0x14c3f2[_0x250142(0x1b2)]=0.005,_0x14c3f2[_0x250142(0x1e8)]=0x2,_0x14c3f2['localDistortion']=!![],_0x14c3f2[_0x250142(0x1ec)]=0x100,_0x14c3f2[_0x250142(0x1c7)]=0.05,_0x14c3f2[_0x250142(0x269)]=2.5,_0x14c3f2[_0x250142(0x25b)]=0x40,_0x14c3f2['localDistortionRegularization']=0.01,_0x14c3f2[_0x250142(0x27a)]=0.05,_0x14c3f2[_0x250142(0x1b8)]=0x2,_0x14c3f2[_0x250142(0x246)]=0x7d0,_0x14c3f2['ransacMaximizeInliers']=0x1,_0x14c3f2['ransacMaximizeOverlapping']=0x1,_0x14c3f2[_0x250142(0x1bd)]=0x1,_0x14c3f2[_0x250142(0x1dd)]=0x1,_0x14c3f2[_0x250142(0x1c0)]=0x0,_0x14c3f2[_0x250142(0x219)]=StarAlignment['prototype'][_0x250142(0x1b0)],_0x14c3f2[_0x250142(0x235)]=0.5,_0x14c3f2[_0x250142(0x253)]=![],_0x14c3f2[_0x250142(0x22c)]=0x5,_0x14c3f2[_0x250142(0x24c)]=0x14,_0x14c3f2[_0x250142(0x205)]=!![],_0x14c3f2[_0x250142(0x206)]=StarAlignment['prototype'][_0x250142(0x25d)],_0x14c3f2['useBrightnessRelations']=![],_0x14c3f2[_0x250142(0x1ae)]=![],_0x14c3f2[_0x250142(0x28f)]=0.1,_0x14c3f2[_0x250142(0x26d)]='h',_0x14c3f2[_0x250142(0x286)]=![],noS==!![]?_0x14c3f2[_0x250142(0x201)]=[[!![],![],'o']]:_0x14c3f2[_0x250142(0x201)]=[[!![],![],'o'],[!![],![],'s']],_0x14c3f2[_0x250142(0x26a)]='',_0x14c3f2[_0x250142(0x25c)]='',_0x14c3f2['mode']=StarAlignment[_0x250142(0x228)]['RegisterMatch'],_0x14c3f2['writeKeywords']=!![],_0x14c3f2[_0x250142(0x263)]=![],_0x14c3f2[_0x250142(0x1fc)]=!![],_0x14c3f2['generateDistortionMaps']=![],_0x14c3f2[_0x250142(0x1e6)]=![],_0x14c3f2[_0x250142(0x1ea)]=![],_0x14c3f2[_0x250142(0x1b1)]=!![],_0x14c3f2[_0x250142(0x223)]=![],_0x14c3f2[_0x250142(0x252)]=!![],_0x14c3f2[_0x250142(0x22d)]=0.05,_0x14c3f2[_0x250142(0x264)]=StarAlignment[_0x250142(0x228)][_0x250142(0x238)],_0x14c3f2['clampingThreshold']=0.3,_0x14c3f2[_0x250142(0x241)]='',_0x14c3f2['outputExtension']=_0x250142(0x1e5),_0x14c3f2['outputPrefix']='',_0x14c3f2['outputPostfix']='_r',_0x14c3f2[_0x250142(0x280)]='_m',_0x14c3f2[_0x250142(0x22a)]=_0x250142(0x1b6),_0x14c3f2[_0x250142(0x285)]=StarAlignment[_0x250142(0x228)]['SameAsTarget'],_0x14c3f2['overwriteExistingFiles']=![],_0x14c3f2[_0x250142(0x229)]=StarAlignment['prototype'][_0x250142(0x23b)],_0x14c3f2['useFileThreads']=!![],_0x14c3f2['fileThreadOverload']=0x1,_0x14c3f2[_0x250142(0x24f)]=0x0,_0x14c3f2[_0x250142(0x203)]=0x0,_0x14c3f2[_0x250142(0x291)]=!![],_0x14c3f2['memoryLoadLimit']=0.85,_0x14c3f2[_0x250142(0x21b)]();}function target(_0x33fcf6){targetWindow=ImageWindow['windowById'](_0x33fcf6),targetWindow['bringToFront']();}function _0x153f(_0x5e8552,_0x9ebbb1){var _0x173c37=_0x173c();return _0x153f=function(_0x153fb5,_0x373547){_0x153fb5=_0x153fb5-0x1ad;var _0x23ae34=_0x173c37[_0x153fb5];return _0x23ae34;},_0x153f(_0x5e8552,_0x9ebbb1);}function subIterator(_0x2fd281){}function linearDenoise(_0x543767){var _0x511b46=_0x216bcf;console[_0x511b46(0x247)](_0x511b46(0x1cb)+_0x543767['id']);var _0x1caf25=new MultiscaleLinearTransform();_0x1caf25['layers']=[[!![],!![],0x0,!![],21.5,0x1,0x1],[!![],!![],0x0,!![],0x10,0x1,0x1],[!![],!![],0x0,!![],12.5,0x1,0x1],[!![],!![],0x0,!![],6.5,0x1,0x1],[!![],!![],0x0,![],0x3,0x1,0x1]],_0x1caf25[_0x511b46(0x28a)]=MultiscaleLinearTransform['prototype']['MultiscaleLinearTransform'],_0x1caf25['scaleDelta']=0x0,_0x1caf25[_0x511b46(0x1e4)]=[0.25,0.5,0.25,0.5,0x1,0.5,0.25,0.5,0.25],_0x1caf25[_0x511b46(0x242)]=[0.5,0x1,0.5],_0x1caf25[_0x511b46(0x249)]=[0.5,0x1,0.5],_0x1caf25['scalingFunctionNoiseSigma']=[0.8003,0.2729,0.1198,0.0578,0.0287,0.0143,0.0072,0.0036,0.0019,0.001],_0x1caf25['scalingFunctionName']='Linear\x20Interpolation\x20(3)',_0x1caf25[_0x511b46(0x244)]=![],_0x1caf25['linearMaskAmpFactor']=0x64,_0x1caf25[_0x511b46(0x267)]=0x1,_0x1caf25['linearMaskInverted']=!![],_0x1caf25[_0x511b46(0x22e)]=![],_0x1caf25[_0x511b46(0x230)]=MultiscaleLinearTransform[_0x511b46(0x228)][_0x511b46(0x25e)],_0x1caf25[_0x511b46(0x211)]=0.75,_0x1caf25['noiseThresholding']=![],_0x1caf25[_0x511b46(0x232)]=0x1,_0x1caf25[_0x511b46(0x212)]=0x3,_0x1caf25['softThresholding']=!![],_0x1caf25[_0x511b46(0x26c)]=![],_0x1caf25[_0x511b46(0x251)]=![],_0x1caf25[_0x511b46(0x231)]=0.1,_0x1caf25[_0x511b46(0x1f5)]=0x0,_0x1caf25[_0x511b46(0x1e7)]=![],_0x1caf25[_0x511b46(0x1b7)]=0x0,_0x1caf25[_0x511b46(0x289)]=0x0,_0x1caf25[_0x511b46(0x1f4)]=MultiscaleLinearTransform[_0x511b46(0x228)][_0x511b46(0x1fb)],_0x1caf25[_0x511b46(0x210)]=0x0,_0x1caf25[_0x511b46(0x281)]=!![],_0x1caf25['toChrominance']=!![],_0x1caf25[_0x511b46(0x20d)]=![],_0x1caf25['executeOn'](_0x543767),targetWindow=ImageWindow[_0x511b46(0x1f9)],targetWindow&&(console[_0x511b46(0x247)](_0x511b46(0x1f7)+identifierName),targetWindow[_0x511b46(0x21a)]());}function chanelExtract(_0x24430c){var _0x1127c6=_0x216bcf;console['writeln'](_0x1127c6(0x209)+_0x24430c['id']);var _0x30a9a4=new ChannelExtraction();_0x30a9a4[_0x1127c6(0x1c2)]=ChannelExtraction[_0x1127c6(0x228)][_0x1127c6(0x273)],_0x30a9a4[_0x1127c6(0x21f)]=[[!![],''],[![],''],[![],'']],_0x30a9a4[_0x1127c6(0x279)]=ChannelExtraction[_0x1127c6(0x228)]['SameAsSource'],_0x30a9a4['executeOn'](_0x24430c),targetWindow=ImageWindow['activeWindow'],targetWindow&&(console[_0x1127c6(0x247)](_0x1127c6(0x1f7)+identifierName),targetWindow['bringToFront']());}function invert(_0x5c228d){var _0x5dba6c=_0x216bcf;console[_0x5dba6c(0x247)](_0x5dba6c(0x23d)+_0x5c228d['id']);var _0x582613=new Invert();_0x582613[_0x5dba6c(0x239)](_0x5c228d),targetWindow=ImageWindow[_0x5dba6c(0x1f9)],targetWindow&&(console[_0x5dba6c(0x247)]('Found\x20the\x20window:\x20'+identifierName),targetWindow['bringToFront']());}function extractRGB(_0x14da26){var _0x109246=_0x216bcf,_0x2d1251=new ChannelExtraction();_0x2d1251[_0x109246(0x1c2)]=ChannelExtraction[_0x109246(0x228)][_0x109246(0x1ff)],_0x2d1251[_0x109246(0x21f)]=[[!![],'h'],[![],'s'],[!![],'o']],_0x2d1251['sampleFormat']=ChannelExtraction[_0x109246(0x228)][_0x109246(0x28e)],_0x2d1251[_0x109246(0x25a)]=!![],_0x2d1251[_0x109246(0x239)](_0x14da26);}function fakeS(_0x17a94d){var _0x5497ae=_0x216bcf,_0x21fd95=new PixelMath();_0x21fd95[_0x5497ae(0x278)]=_0x5497ae(0x1fd),_0x21fd95[_0x5497ae(0x1ef)]='',_0x21fd95['expression2']='',_0x21fd95['expression3']='',_0x21fd95[_0x5497ae(0x274)]='s',_0x21fd95['useSingleExpression']=![],_0x21fd95[_0x5497ae(0x1da)]='',_0x21fd95[_0x5497ae(0x255)]=![],_0x21fd95[_0x5497ae(0x208)]=![],_0x21fd95[_0x5497ae(0x248)]=!![],_0x21fd95[_0x5497ae(0x1d8)]=![],_0x21fd95[_0x5497ae(0x222)]=!![],_0x21fd95[_0x5497ae(0x27d)]=![],_0x21fd95['rescale']=![],_0x21fd95['rescaleLower']=0x0,_0x21fd95[_0x5497ae(0x245)]=0x1,_0x21fd95['truncate']=!![],_0x21fd95[_0x5497ae(0x20a)]=0x0,_0x21fd95[_0x5497ae(0x22b)]=0x1,_0x21fd95[_0x5497ae(0x250)]=!![],_0x21fd95[_0x5497ae(0x277)]=!![],_0x21fd95[_0x5497ae(0x1f1)]=0x0,_0x21fd95['newImageHeight']=0x0,_0x21fd95[_0x5497ae(0x1d0)]=![],_0x21fd95[_0x5497ae(0x240)]=PixelMath[_0x5497ae(0x228)][_0x5497ae(0x265)],_0x21fd95['newImageSampleFormat']=PixelMath[_0x5497ae(0x228)][_0x5497ae(0x243)],_0x21fd95[_0x5497ae(0x239)](_0x17a94d),targetWindow=ImageWindow['activeWindow'],targetWindow&&(console['writeln']('Found\x20the\x20window:\x20'+identifierName),targetWindow['bringToFront']());}function pixelMathCombination(_0x450f45,_0x5e5821){var _0xecc2a2=_0x216bcf,_0x531e77=new PixelMath();_0x531e77[_0xecc2a2(0x278)]=_0xecc2a2(0x260),_0x531e77[_0xecc2a2(0x1ef)]='h',_0x531e77[_0xecc2a2(0x226)]=_0xecc2a2(0x1f2),_0x531e77[_0xecc2a2(0x27c)]='',_0x531e77[_0xecc2a2(0x274)]='',_0x5e5821=='sho'&&(_0x531e77['expression']=_0xecc2a2(0x260),_0x531e77[_0xecc2a2(0x1ef)]='h',_0x531e77[_0xecc2a2(0x226)]='o_registered',_0x531e77['expression3']='',_0x531e77[_0xecc2a2(0x274)]=_0xecc2a2(0x233)),_0x5e5821==_0xecc2a2(0x26b)&&(_0x531e77[_0xecc2a2(0x278)]='s_registered',_0x531e77[_0xecc2a2(0x1ef)]='h',_0x531e77[_0xecc2a2(0x226)]=_0xecc2a2(0x1f2),_0x531e77['expression3']='',_0x531e77[_0xecc2a2(0x274)]=_0xecc2a2(0x26b)),_0x5e5821==_0xecc2a2(0x284)&&(_0x531e77[_0xecc2a2(0x278)]='h',_0x531e77[_0xecc2a2(0x1ef)]=_0xecc2a2(0x260),_0x531e77[_0xecc2a2(0x226)]=_0xecc2a2(0x1f2),_0x531e77[_0xecc2a2(0x27c)]='',_0x531e77['newImageId']=_0xecc2a2(0x284)),_0x5e5821=='hos'&&(_0x531e77['expression']='h',_0x531e77[_0xecc2a2(0x1ef)]=_0xecc2a2(0x1f2),_0x531e77[_0xecc2a2(0x226)]=_0xecc2a2(0x260),_0x531e77[_0xecc2a2(0x27c)]='',_0x531e77[_0xecc2a2(0x274)]=_0xecc2a2(0x1ed)),_0x5e5821=='hoo'&&(_0x531e77[_0xecc2a2(0x278)]='h',_0x531e77[_0xecc2a2(0x1ef)]='o_registered',_0x531e77[_0xecc2a2(0x226)]='o_registered',_0x531e77[_0xecc2a2(0x27c)]='',_0x531e77[_0xecc2a2(0x274)]=_0xecc2a2(0x1c5)),_0x531e77[_0xecc2a2(0x259)]=![],_0x531e77['symbols']='',_0x531e77[_0xecc2a2(0x255)]=![],_0x531e77[_0xecc2a2(0x208)]=![],_0x531e77['generateOutput']=!![],_0x531e77[_0xecc2a2(0x1d8)]=![],_0x531e77[_0xecc2a2(0x222)]=!![],_0x531e77['use64BitWorkingImage']=![],_0x531e77[_0xecc2a2(0x1f8)]=![],_0x531e77['rescaleLower']=0x0,_0x531e77['rescaleUpper']=0x1,_0x531e77[_0xecc2a2(0x1d4)]=!![],_0x531e77['truncateLower']=0x0,_0x531e77['truncateUpper']=0x1,_0x531e77[_0xecc2a2(0x250)]=!![],_0x531e77['showNewImage']=!![],_0x531e77[_0xecc2a2(0x1f1)]=0x0,_0x531e77[_0xecc2a2(0x24a)]=0x0,_0x531e77['newImageAlpha']=![],_0x531e77[_0xecc2a2(0x240)]=PixelMath['prototype'][_0xecc2a2(0x1ff)],_0x531e77[_0xecc2a2(0x215)]=PixelMath['prototype'][_0xecc2a2(0x243)],_0x531e77['executeOn'](_0x450f45),targetWindow=ImageWindow['activeWindow'],targetWindow&&(console['writeln'](_0xecc2a2(0x1f7)+identifierName),targetWindow[_0xecc2a2(0x21a)]());}function applySTF(_0x293d1d,_0x33b478,_0x14965){var _0xcb2893=_0x216bcf;console['writeln'](_0xcb2893(0x1d9)+_0x293d1d['id']);var _0x730a43=new HistogramTransformation();_0x14965?_0x730a43['H']=[[_0x33b478[0x0][0x1],_0x33b478[0x0][0x0],_0x33b478[0x0][0x2],_0x33b478[0x0][0x3],_0x33b478[0x0][0x4]],[_0x33b478[0x1][0x1],_0x33b478[0x1][0x0],_0x33b478[0x1][0x2],_0x33b478[0x1][0x3],_0x33b478[0x1][0x4]],[_0x33b478[0x2][0x1],_0x33b478[0x2][0x0],_0x33b478[0x2][0x2],_0x33b478[0x2][0x3],_0x33b478[0x2][0x4]],[0x0,0.5,0x1,0x0,0x1]]:_0x730a43['H']=[[0x0,0.5,0x1,0x0,0x1],[0x0,0.5,0x1,0x0,0x1],[0x0,0.5,0x1,0x0,0x1],[_0x33b478[0x0][0x1],_0x33b478[0x0][0x0],_0x33b478[0x0][0x2],_0x33b478[0x0][0x3],_0x33b478[0x0][0x4]]],_0x730a43[_0xcb2893(0x239)](_0x293d1d,![]);}function histogramBugFix(){var _0x192827=_0x216bcf,_0x29fadb=new HistogramTransformation();_0x29fadb['H']=[[0x0,0.5,0x1,0x0,0x1],[0x0,0.5,0x1,0x0,0x1],[0x0,0.5,0x1,0x0,0x1],[0x0,0.5,0x1,0x0,0x1],[0x0,0.5,0x1,0x0,0x1]],_0x29fadb[_0x192827(0x239)](view);};function STFAutoStretch(_0x49bbd8,_0x160e40,_0x143e52,_0x42b341){var _0x42edce=_0x216bcf;if(_0x160e40==undefined)_0x160e40=DEFAULT_AUTOSTRETCH_SCLIP;if(_0x143e52==undefined)_0x143e52=DEFAULT_AUTOSTRETCH_TBGND;if(_0x42b341==undefined)_0x42b341=DEFAULT_AUTOSTRETCH_CLINK;var _0x600923=new ScreenTransferFunction(),_0x2a866c=_0x49bbd8[_0x42edce(0x1e0)]['isColor']?0x3:0x1,_0x419ca6=_0x49bbd8[_0x42edce(0x1cd)](_0x42edce(0x1bf)),_0x136877=_0x49bbd8['computeOrFetchProperty'](_0x42edce(0x1fa));_0x136877[_0x42edce(0x262)](1.4826);if(_0x42b341){var _0x539570=0x0;for(var _0x3ddcf9=0x0;_0x3ddcf9<_0x2a866c;++_0x3ddcf9)if(_0x419ca6['at'](_0x3ddcf9)>0.5)++_0x539570;if(_0x539570<_0x2a866c){var _0x2bd271=0x0,_0x1b0cc5=0x0;for(var _0x3ddcf9=0x0;_0x3ddcf9<_0x2a866c;++_0x3ddcf9){if(0x1+_0x136877['at'](_0x3ddcf9)!=0x1)_0x2bd271+=_0x419ca6['at'](_0x3ddcf9)+_0x160e40*_0x136877['at'](_0x3ddcf9);_0x1b0cc5+=_0x419ca6['at'](_0x3ddcf9);}_0x2bd271=Math[_0x42edce(0x1bc)](_0x2bd271/_0x2a866c,0x0,0x1),_0x1b0cc5=Math['mtf'](_0x143e52,_0x1b0cc5/_0x2a866c-_0x2bd271),_0x600923[_0x42edce(0x1b3)]=[[_0x2bd271,0x1,_0x1b0cc5,0x0,0x1],[_0x2bd271,0x1,_0x1b0cc5,0x0,0x1],[_0x2bd271,0x1,_0x1b0cc5,0x0,0x1],[0x0,0x1,0.5,0x0,0x1]];}else{var _0x3a4626=0x0,_0x1b0cc5=0x0;for(var _0x3ddcf9=0x0;_0x3ddcf9<_0x2a866c;++_0x3ddcf9){_0x1b0cc5+=_0x419ca6['at'](_0x3ddcf9);if(0x1+_0x136877['at'](_0x3ddcf9)!=0x1)_0x3a4626+=_0x419ca6['at'](_0x3ddcf9)-_0x160e40*_0x136877['at'](_0x3ddcf9);else _0x3a4626+=0x1;}_0x3a4626=Math[_0x42edce(0x1bc)](_0x3a4626/_0x2a866c,0x0,0x1),_0x1b0cc5=Math['mtf'](_0x3a4626-_0x1b0cc5/_0x2a866c,_0x143e52),_0x600923[_0x42edce(0x1b3)]=[[0x0,_0x3a4626,_0x1b0cc5,0x0,0x1],[0x0,_0x3a4626,_0x1b0cc5,0x0,0x1],[0x0,_0x3a4626,_0x1b0cc5,0x0,0x1],[0x0,0x1,0.5,0x0,0x1]];}}else{var _0x2920d2=[[0x0,0x1,0.5,0x0,0x1],[0x0,0x1,0.5,0x0,0x1],[0x0,0x1,0.5,0x0,0x1],[0x0,0x1,0.5,0x0,0x1]];for(var _0x3ddcf9=0x0;_0x3ddcf9<_0x2a866c;++_0x3ddcf9){if(_0x419ca6['at'](_0x3ddcf9)<0.5){var _0x2bd271=0x1+_0x136877['at'](_0x3ddcf9)!=0x1?Math['range'](_0x419ca6['at'](_0x3ddcf9)+_0x160e40*_0x136877['at'](_0x3ddcf9),0x0,0x1):0x0,_0x1b0cc5=Math['mtf'](_0x143e52,_0x419ca6['at'](_0x3ddcf9)-_0x2bd271);_0x2920d2[_0x3ddcf9]=[_0x2bd271,0x1,_0x1b0cc5,0x0,0x1];}else{var _0x3a4626=0x1+_0x136877['at'](_0x3ddcf9)!=0x1?Math[_0x42edce(0x1bc)](_0x419ca6['at'](_0x3ddcf9)-_0x160e40*_0x136877['at'](_0x3ddcf9),0x0,0x1):0x1,_0x1b0cc5=Math[_0x42edce(0x254)](_0x3a4626-_0x419ca6['at'](_0x3ddcf9),_0x143e52);_0x2920d2[_0x3ddcf9]=[0x0,_0x3a4626,_0x1b0cc5,0x0,0x1];}}_0x600923[_0x42edce(0x1b3)]=_0x2920d2;}for(var _0x3ddcf9=0x0;_0x3ddcf9<_0x2a866c;++_0x3ddcf9){console[_0x42edce(0x247)](_0x42edce(0x1e1),_0x3ddcf9),console[_0x42edce(0x247)](format(_0x42edce(0x1de),_0x600923[_0x42edce(0x1b3)][_0x3ddcf9][0x0])),console[_0x42edce(0x247)](format(_0x42edce(0x1ad),_0x600923['STF'][_0x3ddcf9][0x2])),console['writeln'](format(_0x42edce(0x28b),_0x600923['STF'][_0x3ddcf9][0x1]));}_0x600923[_0x42edce(0x239)](_0x49bbd8);}function abe(_0x3f1c05){var _0x178c91=_0x216bcf;console[_0x178c91(0x247)](_0x178c91(0x200)+_0x3f1c05['id']);var _0x1ead6d=new AutomaticBackgroundExtractor();_0x1ead6d['tolerance']=0x1,_0x1ead6d[_0x178c91(0x214)]=0.8,_0x1ead6d[_0x178c91(0x1ee)]=1.8,_0x1ead6d[_0x178c91(0x1d6)]=0.05,_0x1ead6d[_0x178c91(0x28d)]=0x1,_0x1ead6d['minBackground']=0x0,_0x1ead6d[_0x178c91(0x1ca)]=![],_0x1ead6d[_0x178c91(0x20e)]=0x4,_0x1ead6d[_0x178c91(0x27e)]=0x5,_0x1ead6d[_0x178c91(0x204)]=0x5,_0x1ead6d[_0x178c91(0x1c6)]=AutomaticBackgroundExtractor[_0x178c91(0x228)][_0x178c91(0x272)],_0x1ead6d['abeDownsample']=0x2,_0x1ead6d['writeSampleBoxes']=![],_0x1ead6d[_0x178c91(0x1b4)]=![],_0x1ead6d[_0x178c91(0x1b5)]=AutomaticBackgroundExtractor[_0x178c91(0x228)][_0x178c91(0x23c)],_0x1ead6d['normalize']=![],_0x1ead6d[_0x178c91(0x227)]=!![],_0x1ead6d[_0x178c91(0x1c1)]=!![],_0x1ead6d[_0x178c91(0x1fe)]='',_0x1ead6d['correctedImageSampleFormat']=AutomaticBackgroundExtractor[_0x178c91(0x228)][_0x178c91(0x243)],_0x1ead6d['verboseCoefficients']=![],_0x1ead6d[_0x178c91(0x217)]=![],_0x1ead6d[_0x178c91(0x27f)]=0xa,_0x1ead6d[_0x178c91(0x239)](_0x3f1c05),targetWindow=ImageWindow['activeWindow'],targetWindow&&(console['writeln']('Found\x20the\x20window:\x20'+identifierName),targetWindow['bringToFront']());}function crop(_0x3c67ef){var _0x27c190=_0x216bcf,_0x39e61e=new Crop();_0x39e61e[_0x27c190(0x1f6)]=-0x184,_0x39e61e[_0x27c190(0x225)]=-0x102,_0x39e61e[_0x27c190(0x236)]=-0x184,_0x39e61e[_0x27c190(0x24d)]=-0x102,_0x39e61e['mode']=Crop['prototype'][_0x27c190(0x216)],_0x39e61e['xResolution']=0x64,_0x39e61e['yResolution']=0x64,_0x39e61e['metric']=![],_0x39e61e[_0x27c190(0x257)]=![],_0x39e61e[_0x27c190(0x1d1)]=0x0,_0x39e61e[_0x27c190(0x1eb)]=0x0,_0x39e61e[_0x27c190(0x271)]=0x0,_0x39e61e['alpha']=0x1,_0x39e61e[_0x27c190(0x1b1)]=![],_0x39e61e['executeOn'](_0x3c67ef),targetWindow=ImageWindow[_0x27c190(0x1f9)],targetWindow&&(console[_0x27c190(0x247)]('Found\x20the\x20window:\x20'+identifierName),targetWindow[_0x27c190(0x21a)]());}function checkSubs(){var _0x3dd2ad=_0x216bcf;try{target('s');}catch(_0x554133){noS=!![],console[_0x3dd2ad(0x247)]('Didn\x27t\x20find\x20S\x20sub');}};function runOSCDualNarrowband(){}function _0x173c(){var _0x4588ae=['zoomFactor','expression3','use64BitWorkingImage','boxSize','compareFactor','maskPostfix','toLuminance','Average','ai_file','hso','outputSampleFormat','referenceIsFile','preserveLightness','\x20Run\x20noiseX\x20on\x20image:\x20','highRange','transform','c1\x20=\x20%.6f','24EMbVPa','maxBackground','SameAsSource','scaleTolerance','peakResponse','memoryLoadControl','m\x20\x20=\x20%.6f','useScaleDifferences','noiseLayers','FitPSF_DistortionOnly','noGUIMessages','distortionTolerance','STF','justTrySamples','targetCorrection','_dm','lowRange','ransacTolerance','metric','yResolution','amount','range','ransacMaximizeRegularity','currentView','Median','maxStars','replaceTarget','colorSpace','nonstellar_psf_diameter','adjust_halos','hoo','modelImageSampleFormat','localDistortionTolerance','lum_only','localMaximaDetectionLimit','useBrightnessLimits','\x20Denoise\x20image:\x20','\x20\x20Extract\x20L\x20on\x20','computeOrFetchProperty','unscreen','Green','newImageAlpha','red','\x20\x20Reset\x20STF\x20on\x20image:\x20','2ZWQago','truncate','auto_nonstellar_psf','minBoxFraction','distortionModel','singleThreaded','\x20\x20Apply\x20STF\x20on\x20','symbols','\x20Aligning\x20images!','C\x20Astronomy\x20stream\x20script','ransacMinimizeError','c0\x20=\x20%.6f','\x20Run\x20starX\x20on\x20image:\x20','image','channel\x20#','brightThreshold','Inverting\x20image\x20and\x20removing\x20magenta\x20stars!','scalingFunctionData','.xisf','frameAdaptation','outputDeringingMaps','distortionAmplitude','stars','randomizeMosaic','green','localDistortionScale','hos','unbalance','expression1','iconize','newImageWidth','o_registered','stf','previewMode','deringingBright','leftMargin','Found\x20the\x20window:\x20','rescale','activeWindow','MAD','Disabled','generateDrizzleData','h*0.7+o*0.3','correctedImageId','RGB','\x20Apply\x20ABE\x20on\x20image:\x20','targets','distortionCorrection','maxFileWriteThreads','boxSeparation','restrictToPreviews','intersection','noiseReductionFilterRadius','cacheGeneratedImages','\x20Extract\x20L\x20from\x20image:\x20','truncateLower','101320AIZLPf','AverageNeutral','linear','polyDegree','allowClusteredSources','previewLayer','curveBreakPoint','noiseThreshold','overlap','deviation','newImageSampleFormat','AbsolutePixels','compareModel','202866UThlWa','fitPSF','bringToFront','executeGlobal','structureLayers','Start','\x20Run\x20blurX\x20on\x20image:\x20','channels','denoise','16558025oziNPe','optimization','useSurfaceSplines','sharpen_nonstellar','topMargin','expression2','discardModel','prototype','onError','distortionMapPostfix','truncateUpper','polygonSides','splineSmoothness','linearMaskPreview','hotPixelFilterRadius','largeScaleFunction','deringingDark','noiseThresholdingAmount','sho','rgb','psfTolerance','rightMargin','3686805gDphoJ','Auto','executeOn','maxStarDistortion','Continue','Subtract','\x20Inverting\x20image:\x20','Scnr\x20100%\x20on\x20image\x20for\x20the\x20Hubble\x20look!','SeparateChannels','newImageColorSpace','outputDirectory','scalingFunctionRowFilter','SameAsTarget','linearMask','rescaleUpper','ransacMaxIterations','writeln','generateOutput','scalingFunctionColFilter','newImageHeight','correct_only','descriptorsPerStar','bottomMargin','2961942XVMvGk','maxFileReadThreads','createNewImage','deringing','extrapolateLocalDistortion','useTriangles','mtf','clearImageCacheAndExit','gammaCorrection','forceResolution','\x20Applying\x20SCNR\x20on\x20image:\x20','useSingleExpression','inheritAstrometricSolution','localDistortionRejectionWindow','outputHints','MosaicOnly','NoFunction','distortionMaxIterations','s_registered','23317fBTaCe','mul','generateMasks','pixelInterpolation','Gray','Script\x20DONE','linearMaskSmoothness','detail','localDistortionRejection','inputHints','hubble','useMultiresolutionSupport','referenceImage','colorToRemove','656582LkaUFw','20ChiCRP','blue','f32','CIELab','newImageId','1024NnoiEj','forceClose','showNewImage','expression','sampleFormat','matcherTolerance'];_0x173c=function(){return _0x4588ae;};return _0x173c();};function run(){var _0x43ac12=_0x216bcf,_0x1d78da=![];if(_0x1d78da==!![]){target(_0x43ac12(0x234)),extractRGB(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),fakeS(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),alignment(),palette=_0x43ac12(0x233),pixelMathCombination(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)],palette),target(_0x43ac12(0x233));useCrop==!![]&&crop(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);;useAbe==!![]&&abe(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);;useBlurX==!![]&&blurX(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);;useStarX==!![]&&starX(ImageWindow['activeWindow'][_0x43ac12(0x1be)]);;STFAutoStretch(ImageWindow[_0x43ac12(0x1f9)]['currentView']),applySTF(ImageWindow[_0x43ac12(0x1f9)]['currentView'],ImageWindow[_0x43ac12(0x1f9)]['currentView'][_0x43ac12(0x1f3)],!![]),stfReset(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);removeMagentaStars==!![]&&(console[_0x43ac12(0x247)](_0x43ac12(0x1e3)),invert(ImageWindow['activeWindow'][_0x43ac12(0x1be)]),scnr(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),invert(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]));;createSuperLum==!![]&&chanelExtract(ImageWindow[_0x43ac12(0x1f9)]['currentView']);;useScnr==!![]&&(console[_0x43ac12(0x247)](_0x43ac12(0x23e)),scnr(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]));;scnr(ImageWindow[_0x43ac12(0x1f9)]['currentView']);useNoiseX==!![]&&noiseX(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);;cleanup==!![]&&(noS==!![]?(target('h'),targetWindow[_0x43ac12(0x276)](),target('o'),targetWindow[_0x43ac12(0x276)](),target(_0x43ac12(0x1f2)),targetWindow['forceClose']()):(target('s'),targetWindow[_0x43ac12(0x276)](),target('s_registered'),targetWindow['forceClose'](),target('h'),targetWindow[_0x43ac12(0x276)](),target('o'),targetWindow[_0x43ac12(0x276)](),target(_0x43ac12(0x1f2)),targetWindow['forceClose']()));;console[_0x43ac12(0x247)]('Script\x20DONE');}else{checkSubs();if(useIntegerResample==!![]){noS==!![]?(target('h'),integerResample(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),target('o'),integerResample(ImageWindow['activeWindow'][_0x43ac12(0x1be)])):(target('h'),integerResample(ImageWindow['activeWindow'][_0x43ac12(0x1be)]),target('s'),integerResample(ImageWindow['activeWindow'][_0x43ac12(0x1be)]),target('o'),integerResample(ImageWindow[_0x43ac12(0x1f9)]['currentView']));;}alignment();noS==!![]?(target('h'),target('h'),abe(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),targetWindow[_0x43ac12(0x1f0)](),target('o'),target(_0x43ac12(0x1f2)),abe(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),targetWindow['iconize']()):(target('s'),target(_0x43ac12(0x260)),abe(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),targetWindow[_0x43ac12(0x1f0)](),target('h'),target('h'),abe(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),targetWindow['iconize'](),target('o'),target('o_registered'),abe(ImageWindow['activeWindow'][_0x43ac12(0x1be)]),targetWindow[_0x43ac12(0x1f0)]());if(useSHO){palette=_0x43ac12(0x233),pixelMathCombination(ImageWindow['activeWindow']['currentView'],palette),target(_0x43ac12(0x233));useCrop==!![]&&crop(ImageWindow['activeWindow']['currentView']);;useAbe==!![]&&abe(ImageWindow[_0x43ac12(0x1f9)]['currentView']);;useBlurX==!![]&&blurX(ImageWindow[_0x43ac12(0x1f9)]['currentView']);;useStarX==!![]&&(starX(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),target(_0x43ac12(0x233)));;STFAutoStretch(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),applySTF(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)],ImageWindow[_0x43ac12(0x1f9)]['currentView'][_0x43ac12(0x1f3)],!![]),stfReset(ImageWindow[_0x43ac12(0x1f9)]['currentView']);removeMagentaStars==!![]&&(console[_0x43ac12(0x247)](_0x43ac12(0x1e3)),invert(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),scnr(ImageWindow[_0x43ac12(0x1f9)]['currentView']),invert(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]));;createSuperLum==!![]&&chanelExtract(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);;useScnr==!![]&&(console[_0x43ac12(0x247)](_0x43ac12(0x23e)),scnr(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]));;abe(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);useNoiseX==!![]&&noiseX(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);;};if(useHUBBLE){palette='hubble',pixelMathCombination(ImageWindow['activeWindow'][_0x43ac12(0x1be)],palette),target('hubble');useCrop==!![]&&crop(ImageWindow['activeWindow']['currentView']);;useAbe==!![]&&abe(ImageWindow['activeWindow'][_0x43ac12(0x1be)]);;useBlurX==!![]&&blurX(ImageWindow['activeWindow'][_0x43ac12(0x1be)]);;useStarX==!![]&&(starX(ImageWindow['activeWindow'][_0x43ac12(0x1be)]),target(_0x43ac12(0x26b)));;STFAutoStretch(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),applySTF(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)],ImageWindow[_0x43ac12(0x1f9)]['currentView']['stf'],!![]),stfReset(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),console['writeln'](_0x43ac12(0x1e3)),invert(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),scnr(ImageWindow[_0x43ac12(0x1f9)]['currentView']),invert(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);createSuperLum==!![]&&chanelExtract(ImageWindow[_0x43ac12(0x1f9)]['currentView']);;console[_0x43ac12(0x247)](_0x43ac12(0x23e)),scnr(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);useNoiseX==!![]&&noiseX(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);;};if(useHOO){palette='hoo',pixelMathCombination(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)],palette),target(_0x43ac12(0x1c5));useCrop==!![]&&crop(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);;useAbe==!![]&&abe(ImageWindow[_0x43ac12(0x1f9)]['currentView']);;useBlurX==!![]&&blurX(ImageWindow[_0x43ac12(0x1f9)]['currentView']);;useStarX==!![]&&(starX(ImageWindow[_0x43ac12(0x1f9)]['currentView']),target(_0x43ac12(0x1c5)));;STFAutoStretch(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),applySTF(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)],ImageWindow[_0x43ac12(0x1f9)]['currentView'][_0x43ac12(0x1f3)],!![]),stfReset(ImageWindow['activeWindow'][_0x43ac12(0x1be)]);removeMagentaStars==!![]&&(console[_0x43ac12(0x247)]('Inverting\x20image\x20and\x20removing\x20magenta\x20stars!'),invert(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),scnr(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]),invert(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]));;createSuperLum==!![]&&chanelExtract(ImageWindow['activeWindow'][_0x43ac12(0x1be)]);;console[_0x43ac12(0x247)](_0x43ac12(0x23e)),scnr(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);useNoiseX==!![]&&noiseX(ImageWindow[_0x43ac12(0x1f9)][_0x43ac12(0x1be)]);;};cleanup==!![]&&(noS==!![]?(target('h'),targetWindow['forceClose'](),target('o'),targetWindow['forceClose'](),target(_0x43ac12(0x1f2)),targetWindow[_0x43ac12(0x276)]()):(target('s'),targetWindow[_0x43ac12(0x276)](),target(_0x43ac12(0x260)),targetWindow[_0x43ac12(0x276)](),target('h'),targetWindow[_0x43ac12(0x276)](),target('o'),targetWindow[_0x43ac12(0x276)](),target('o_registered'),targetWindow['forceClose']()));;console['writeln'](_0x43ac12(0x266));};};